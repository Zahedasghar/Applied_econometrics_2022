<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>pide_r</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="PIDE_R_files/libs/clipboard/clipboard.min.js"></script>
<script src="PIDE_R_files/libs/quarto-html/quarto.js"></script>
<script src="PIDE_R_files/libs/quarto-html/popper.min.js"></script>
<script src="PIDE_R_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="PIDE_R_files/libs/quarto-html/anchor.min.js"></script>
<link href="PIDE_R_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="PIDE_R_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="PIDE_R_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="PIDE_R_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="PIDE_R_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="PIDE_R_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="PIDE_R_files/libs/jquery-1.12.4/jquery.min.js"></script>
<link href="PIDE_R_files/libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="PIDE_R_files/libs/leaflet-1.3.1/leaflet.js"></script>
<link href="PIDE_R_files/libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="PIDE_R_files/libs/proj4-2.6.2/proj4.min.js"></script>
<script src="PIDE_R_files/libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="PIDE_R_files/libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="PIDE_R_files/libs/leaflet-binding-2.1.1/leaflet.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="applied-economics-with-r" class="level2">
<h2 class="anchored" data-anchor-id="applied-economics-with-r">Applied Economics with R</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><img src="images/rmdout.png" class="img-fluid" width="512"></p>
</div><div class="column" style="width:70%;">
<div class="nonincremental">
<p>Zahid Asghar, School of Economics, QAU</p>
<p>Organized by: Pakistan Institute of Development Economics</p>
</div>
</div>
</div>
</section>
<section id="overview-and-objectives" class="level2">
<h2 class="anchored" data-anchor-id="overview-and-objectives">Overview and objectives</h2>
<p>This is a comprehensive training with a focus on doing empirical economics with R. It will aim at teaching R for doing economics instead of learning R. Moreover, objective will be to enable research students to do analysis having speed, efficiency and reproducibility so one focus on research question in hand rather spending most of one’s time on editing, formating and other trivial things.This is designed to introduce <span class="yellow">students to focus on research design</span>, <span class="yellow">thinking clearly with data</span> and learn by practice. <a href="https://www.core-econ.org/doing-economics/"><strong>Doing Economics</strong></a> by CORE exercises in R (pdf/html document generated in R) will be the requirement for research students to get a pass in the course. Emphasis during the eight weeks comprehensive workshop will be</p>
<ul>
<li><p>Data wrangling, data visualization and data tables</p></li>
<li><p>Econometric tools with nice printable format</p></li>
<li><p>Learning Quarto Markdown Language (R/Python/Julia) for producing beuatiful document with files speaking to files without copy and paste</p></li>
<li><p>Producing macroeconomics graphs like NYT/Economist/WSJ… with effective storytelling</p></li>
<li><p>Reproducing results <a href="https://www.worldbank.org/en/programs/sief-trust-fund/publication/impact-evaluation-in-practice">Impact Evaluation in Practice</a></p></li>
</ul>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<ul>
<li><a href="https://www.core-econ.org/doing-economics/">Doing Economics by CORE</a></li>
<li><a href="https://r4ds.had.co.nz/">R4D</a></li>
<li><a href="https://tellingstorieswithdata.com/">Telling Stories with Data</a></li>
<li><a href="https://github.com/hhsievertsen/applied_econ_with_r">Applied Economics with R</a> I will be providing students with several sets of practice questions during the course besides some of the resources mentioned above. ## Course contents</li>
</ul>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Week</strong></th>
<th style="text-align: left;"><strong>Title</strong></th>
<th style="text-align: left;"><strong>Topics covered</strong></th>
<th style="text-align: left;"><strong>Essential reading</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Software</td>
<td style="text-align: left;">Introduction to R, RStudio, POSIT Cloud , gituhub</td>
<td style="text-align: left;"><a href="rstudio.cloud">RStudio cloud</a> <a href="github.com">github</a> <a href="quarto.pub">Quarto</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Data Vocabulary, taxonomy, wrangling</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Reading STATA/SPSS/csv/xlsx webAPI data in R</td>
<td style="text-align: left;">In class-labs</td>
<td style="text-align: left;">continued</td>
</tr>
<tr class="even">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Data visualization</td>
<td style="text-align: left;">grammar of graphics ggplot2</td>
<td style="text-align: left;">graphics for categorical and continuous data using R,</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">Lab on having data visualization</td>
<td style="text-align: left;">In-class lab</td>
<td style="text-align: left;">Applications</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">Data Tables</td>
<td style="text-align: left;">Learning Data Tables with R as published in world leading outlets</td>
<td style="text-align: left;">Tables from various PIDE resources and reproducing tables like 538, NYT, WSJ, FT…</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4</td>
<td style="text-align: left;"><strong>Lab</strong></td>
<td style="text-align: left;">In class lab</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">5</td>
<td style="text-align: left;"><strong>Exploratory Data Analysis in R in minutes</strong></td>
<td style="text-align: left;">Data Exploration not in months/weeks but in minutes</td>
<td style="text-align: left;">dataxray in R</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Exploratory Data Analysis in R</td>
<td style="text-align: left;">Lab</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">Econometric Model Results</td>
<td style="text-align: left;">How to have results of various models like those of leading journals</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">6</td>
<td style="text-align: left;">Lab</td>
<td style="text-align: left;">MLR models</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">7</td>
<td style="text-align: left;">Using Quarto for beautiful reports/presentation/books/thesis</td>
<td style="text-align: left;">Learning Quarto for enhancing productivity</td>
<td style="text-align: left;">Lab</td>
</tr>
<tr class="odd">
<td style="text-align: left;">8</td>
<td style="text-align: left;">Submitting a comprehensive document in html/pdf generated using Quarto Markdown in R like <a href="https://github.com/hhsievertsen/applied_econ_with_r">AER</a></td>
<td style="text-align: left;">Demonstration of doing all tasks from day1 to final project with only R including presentation</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">8</td>
<td style="text-align: left;">continued</td>
<td style="text-align: left;">continued</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</section>
<section id="data-science" class="level2">
<h2 class="anchored" data-anchor-id="data-science">Data Science</h2>
<ul>
<li><p><span class="hi">You don’t “learn R”, you learn how to do things in R</span></p></li>
<li><p>The next 8 weeks are all about giving you the tools you need</p>
<ul>
<li>Admittedly, a bit before you know what you need them <em>for</em></li>
</ul></li>
<li><p>We will extend them as we learn specific models</p></li>
</ul>
</section>
<section id="r" class="level2">
<h2 class="anchored" data-anchor-id="r">R</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><strong>Free</strong> and <strong>open source</strong></p></li>
<li><p>A very large community</p></li>
<li><p>Can handle virtually any data format</p></li>
<li><p>Makes replication easy</p></li>
<li><p>Can integrate into documents (with <code>Quarto markdown</code>)</p></li>
<li><p>R is a <em>language</em> so it can do <em>everything</em></p>
<ul>
<li>A good stepping stone to learning other languages like <em>Python</em></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img src="images/r.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="excel-or-stata-cant-do-this" class="level2">
<h2 class="anchored" data-anchor-id="excel-or-stata-cant-do-this">Excel (or Stata) Can’t Do This</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> gdpPercap,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> lifeExp,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> continent))<span class="sc">+</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.3</span>)<span class="sc">+</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">1000</span>,<span class="dv">10000</span>, <span class="dv">100000</span>),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label=</span>scales<span class="sc">::</span>dollar)<span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP/Capita"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Life Expectancy (Years)"</span>)<span class="sc">+</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent)<span class="sc">+</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> F)<span class="sc">+</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use "none" instead as
of ggplot2 3.3.4.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="PIDE_R_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="or-this" class="level2">
<h2 class="anchored" data-anchor-id="or-this">Or This</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Input</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>The average GDP per capita is <code>` r dollar(mean(gapminder$gdpPercap)) `</code> with a standard deviation of <code>` r dollar(sd(gapminder$gdpPercap)) `</code>.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>The average GDP per capita is $7,215.33 with a standard deviation of $9,857.45.</p>
</div>
</div>
</div>
</section>
<section id="or-this-1" class="level2">
<h2 class="anchored" data-anchor-id="or-this-1">Or This</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">lng =</span> <span class="fl">73.1387</span>, <span class="at">lat =</span><span class="fl">33.7492</span> ,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">popup =</span> <span class="st">"Pakistan Institute of Development Economics, Islamabad"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-94b8a97136f6612801d1" style="width:100%;height:180px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-94b8a97136f6612801d1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[33.7492,73.1387,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"Pakistan Institute of Development Economics, Islamabad",null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[33.7492,33.7492],"lng":[73.1387,73.1387]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>