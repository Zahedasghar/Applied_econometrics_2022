<!DOCTYPE html>
<html lang="en"><head>
<script src="Multiple_linear_regression_files/libs/clipboard/clipboard.min.js"></script>
<script src="Multiple_linear_regression_files/libs/quarto-html/tabby.min.js"></script>
<script src="Multiple_linear_regression_files/libs/quarto-html/popper.min.js"></script>
<script src="Multiple_linear_regression_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Multiple_linear_regression_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Multiple_linear_regression_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Multiple_linear_regression_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.38">

  <meta name="author" content="Zahid Asghar">
  <meta name="dcterms.date" content="2022-10-19">
  <title>Multivariate Regression</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Multiple_linear_regression_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Multiple_linear_regression_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Multiple_linear_regression_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="Multiple_linear_regression_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Multiple_linear_regression_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Multiple_linear_regression_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Multiple_linear_regression_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#447099" class="center">
  <h1 class="title">Multivariate Regression</h1>
  <p class="author">Zahid Asghar</p>
  <p class="date">10/19/22</p>
</section>

<section>
<section id="controls" class="title-slide slide level1 center">
<h1>Controls</h1>
<ul>
<li>Last time we talked about multivariate regression and controlling for variables</li>
<li>If our <span class="math inline">\(X\)</span> of interest is related to the error term, we have endogeniety, and the mean of the sampling variation of <span class="math inline">\(\hat{\beta}_1\)</span> won’t be <span class="math inline">\(\beta_1\)</span> (i.e.&nbsp;it’s biased)</li>
<li>If we can figure out all the <em>other reasons</em> why <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> might be related, the back doors. And we can close those back doors to identify our effect by controlling for variables along those back door paths</li>
<li>We draw a causal diagram and list the paths</li>
<li>If we can control for one thing on each path, then that washes out the variation from those paths, and the only remaining reason <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are related is that <span class="math inline">\(X\)</span> causes <span class="math inline">\(Y\)</span> - causal identification!</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section>
<section id="today" class="title-slide slide level1 center">
<h1>Today</h1>
<ul>
<li>Today we’re going to talk more about controlling</li>
<li>Including when you <em>don’t</em> want to control for things</li>
<li>We’ll also talk about how to actually perform multivariate regression</li>
<li>As well as do some things that go along with it (those F-statistics will finally be useful!)</li>
</ul>
</section>
<section class="slide level2">

</section></section>
<section id="bad-controls" class="title-slide slide level1 center">
<h1>Bad Controls</h1>
<ul>
<li>Last time, we were careful to draw a causal diagram, list out the paths, and control for something that would close each path we don’t want to include</li>
<li>Couldn’t we just skip this all and control for everything we can think of?</li>
<li>No! There are a few reasons why adding controls when you shouldn’t can make your estimate worse:
<ul>
<li>Washing out too much variation</li>
<li>Post-treatment bias</li>
<li>Collider bias</li>
</ul></li>
</ul>
</section>

<section id="washing-out-too-much-variation" class="title-slide slide level1 center">
<h1>Washing out Too Much Variation</h1>
<ul>
<li>When we control for a variable <span class="math inline">\(Z\)</span>, we wash out all the variation in <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> associated with that variable</li>
<li>Which means that we can also think of <span class="math inline">\(\hat{\beta}_1\)</span> from that regression as saying “<em>within the same value of <span class="math inline">\(Z\)</span></em>, a one-unit change in <span class="math inline">\(X\)</span> raises <span class="math inline">\(Y\)</span> by <span class="math inline">\(\hat{\beta}_1\)</span>”</li>
<li>So we have to think carefully about whether that statement actually makes sense!</li>
<li>(this is very similar to the concept of “collinearity”)</li>
</ul>
</section>

<section id="washing-out-too-much-variation-1" class="title-slide slide level1 center">
<h1>Washing out Too Much Variation</h1>
<ul>
<li>For example, let’s say we want to know the effect of being in a business school <span class="math inline">\(IBA\)</span> on <span class="math inline">\(Earnings\)</span></li>
<li>However, we also know that your college major is strongly related to whether you’re in IBA, and causes your <span class="math inline">\(Earnings\)</span></li>
<li>But if we control for <span class="math inline">\(Major\)</span>, we’re saying “within the same major, being in the business school vs.&nbsp;not has a <span class="math inline">\(\hat{\beta}_1\)</span> effect on earnings”</li>
<li>What does that even mean? You’re comparing econ majors in vs.&nbsp;out of the business school… but who are the econ majors not in the business school? And who are the English majors <em>in</em> the business school to compare against the English majors not in IBA?</li>
<li>Controlling for major would make the regression impossible to interpret. Plus, it would provide an estimate based entirely on the few people it can find who are English majors in IBA or Econ majors out of IBA - is that representative?</li>
</ul>
</section>

<section id="washing-out-too-much-variation-2" class="title-slide slide level1 center">
<h1>Washing out Too Much Variation</h1>
<ul>
<li>When adding a control, it’s always useful to think about <em>who you’re comparing</em> and if that variation really exists in the data</li>
<li>In thinking about the effect of being in <span class="math inline">\(IBA\)</span>, we really want to compare people <em>between</em> in-IBA and out-of-IBA majors</li>
<li>Controlling for <span class="math inline">\(Major\)</span> is asking OLS to compare people <em>within</em> majors</li>
<li>So it doesn’t really make sense to control for major. We want that effect in there!</li>
</ul>
</section>

<section id="post-treatment-bias" class="title-slide slide level1 center">
<h1>Post-Treatment Bias</h1>
<ul>
<li>Remember this diagram from last time?</li>
</ul>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-2-1.png" width="768" class="r-stretch"></section>

<section id="post-treatment-bias-1" class="title-slide slide level1 center">
<h1>Post-Treatment Bias</h1>
<ul>
<li>We determined that we needed to control for <span class="math inline">\(Location\)</span> and <span class="math inline">\(Background\)</span> but not <span class="math inline">\(Skills\)</span>. Why?</li>
<li>Because <span class="math inline">\(Skills\)</span> is <em>part of the effect we’re trying to pick up!</em></li>
<li>If <span class="math inline">\(Preschool\)</span> affects <span class="math inline">\(Earnings\)</span> *because it improves your <span class="math inline">\(Skills\)</span>, then we’d count that as being a valid way that <span class="math inline">\(Preschool\)</span> affects <span class="math inline">\(Earnings\)</span></li>
<li><span class="math inline">\(Skills\)</span> is <em>post-treatment</em>, i.e.&nbsp;caused by treatment</li>
<li>(note that all the arrows on the path <span class="math inline">\(Preschool \rightarrow Skills \rightarrow Earnings\)</span> point away from <span class="math inline">\(Preschool\)</span> )</li>
</ul>
</section>

<section>
<section id="post-treatment-bias-2" class="title-slide slide level1 center">
<h1>Post-Treatment Bias</h1>
<ul>
<li>What would happen if we <em>did</em> control for <span class="math inline">\(Skills\)</span>? We’d be removing part of the real effect!</li>
<li>To give another example, does the <span class="math inline">\(PriceOfCigarettes\)</span> affect <span class="math inline">\(Health\)</span>? It makes sense that it would</li>
<li>But it makes sense that it would *because the price would affect <span class="math inline">\(Smoking\)</span> which would affect <span class="math inline">\(Health\)</span></li>
<li>If we controlled for <span class="math inline">\(Smoking\)</span>, then there’s no way for the price to affect health!</li>
<li>We’d say that <span class="math inline">\(PriceOfCigarettes\)</span> has no effect when really it does</li>
</ul>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-3-1.png" width="480" class="r-stretch"></section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="collider_bias.png" class="r-stretch"></section></section>
<section id="colliders" class="title-slide slide level1 center">
<h1>Colliders</h1>
<ul>
<li>One last reason to not control for something, and this one’s a bit harder to wrap your head around</li>
<li>On a causal path from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span>, if there’s a variable on that path where <em>both arrows on either side point at it</em>, that’s a <em>collider variable</em> on that path</li>
<li>Like this: <code>X &lt;- W -&gt; C &lt;- Z -&gt; Y</code>. The arrows “collide” at <code>C</code></li>
<li>If there’s a collider on a path, <em>that path is automatically closed already</em></li>
<li>But if you control for the collider, <em>it opens back up!</em></li>
<li>You can go from identified to endogenous by <em>adding</em> a control!</li>
</ul>
</section>

<section id="colliders-1" class="title-slide slide level1 center">
<h1>Colliders</h1>
<ul>
<li>So here, <code>x &lt;- a -&gt; m &lt;- b -&gt; y</code> is pre-blocked because of <code>m</code>, no problem. <code>a</code> and <code>b</code> are unrelated, so no back door issue!</li>
<li>Control for <code>m</code> and now <code>a</code> and <code>b</code> are related, back door path open.</li>
</ul>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-4-1.png" width="480" class="r-stretch"></section>

<section id="example" class="title-slide slide level1 center">
<h1>Example</h1>
<ul>
<li>You want to know if programming skills reduce your social skills</li>
<li>So you go to a tech company and test all their employees on programming and social skills</li>
<li>Let’s imagine that the <em>truth</em> is that programming skills and social skills are unrelated</li>
<li>But you find a negative relationship! What gives?</li>
</ul>
</section>

<section id="example-1" class="title-slide slide level1 center">
<h1>Example</h1>
<ul>
<li>Oops! By surveying only the tech company, you controlled for “works in a tech company”</li>
<li>To do that, you need programming skills, social skills, or both! It’s a collider!</li>
</ul>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-5-1.png" width="480" class="r-stretch"></section>

<section id="example-2" class="title-slide slide level1 center">
<h1>Example</h1>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>survey <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">prog=</span><span class="fu">rnorm</span>(<span class="dv">1000</span>),<span class="at">social=</span><span class="fu">rnorm</span>(<span class="dv">1000</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="fu">mutate</span>(<span class="at">hired =</span> (prog <span class="sc">+</span> social <span class="sc">&gt;</span> .<span class="dv">25</span>))</span>
<span id="cb1-3"><a href="#cb1-3"></a>basic <span class="ot">&lt;-</span> <span class="fu">feols</span>(prog<span class="sc">~</span>social, <span class="at">data =</span> survey)</span>
<span id="cb1-4"><a href="#cb1-4"></a>hiredonly <span class="ot">&lt;-</span> <span class="fu">feols</span>(prog<span class="sc">~</span>social, <span class="at">data =</span> survey <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hired))</span>
<span id="cb1-5"><a href="#cb1-5"></a>withcontrol <span class="ot">&lt;-</span> <span class="fu">feols</span>(prog <span class="sc">~</span> social <span class="sc">+</span> hired, <span class="at">data =</span> survey)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">etable</span>(basic, hiredonly, withcontrol)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="do">##                           basic           hiredonly         withcontrol</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="do">## Dependent Var.:            prog                prog                prog</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="do">##                                                                        </span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="do">## (Intercept)     0.0193 (0.0331)   1.018*** (0.0444) -0.7485*** (0.0354)</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="do">## social          0.0383 (0.0326) -0.4900*** (0.0433) -0.4245*** (0.0285)</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="do">## hiredTRUE                                             1.727*** (0.0583)</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="do">## _______________ _______________ ___________________ ___________________</span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="do">## S.E. type                   IID                 IID                 IID</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="do">## Observations              1,000                 432               1,000</span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="do">## R2                      0.00138             0.22937             0.46898</span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="do">## Adj. R2                 0.00038             0.22757             0.46792</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="do">## ---</span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="do">## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="graphically" class="title-slide slide level1 center">
<h1>Graphically</h1>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-8-1.gif" class="r-stretch"></section>

<section id="concept-checks" class="title-slide slide level1 center">
<h1>Concept Checks</h1>
<p>In each case, we’re controlling for something we shouldn’t. Is this a case of washing out too much variation, post-treatment bias, or collider bias?</p>
<ul>
<li>Effect of a wife’s eye color on her husband’s eye color, controlling for the eye color of their biological child</li>
<li>Effect of religious denomination on how often you attend church services, controlling for the specific church someone attends</li>
<li>Effect of a new error-reducing accounting system on profits, controlling for the number of accounting errors</li>
<li>Effect of a merger on market prices, controlling for the level of market concentration</li>
<li>Effect of a state’s intellectual property law on how many things an inventor invents, controlling for their hometown</li>
</ul>
</section>

<section id="goodness-of-fit" class="title-slide slide level1 center">
<h1>Goodness of Fit</h1>
<ul>
<li>Let’s switch gears a bit and talk about some of the statistical aspects of multivariate regression</li>
<li>One is the <em>goodness of fit</em>. That is, OLS does as good a job as possible of using <span class="math inline">\(X\)</span> and controls to explain <span class="math inline">\(Y\)</span>, but how good a job does it do?</li>
<li>If the residuals are really big, then there’s a lot of noise in <span class="math inline">\(Y\)</span> we’re not explaining!</li>
<li>If they’re small, then most of what’s going on in <span class="math inline">\(Y\)</span> is accounted for</li>
</ul>
</section>

<section id="r-squared" class="title-slide slide level1 center">
<h1>R squared</h1>
<ul>
<li>R squared is the square of the correlation between <span class="math inline">\(Y\)</span> and our OLS predictions of <span class="math inline">\(Y\)</span></li>
<li>It can be roughly thought of as “what proportion of the variance in <span class="math inline">\(Y\)</span> can we explain with the variables in our model?”</li>
<li>It’s <em>not</em> a measure of how good the model is (experiments often have low <span class="math inline">\(R^2\)</span>, and <span class="math inline">\(R^2\)</span> doesn’t care about whether <span class="math inline">\(\hat{\beta}_1\)</span> is unbiased)</li>
<li>It’s not even a perfect measure even of predictive power (it doesn’t care about predicting out of sample, and is sensitive to irrelevant variables being added)</li>
<li><em>Never</em> choose your model based on the <span class="math inline">\(R^2\)</span> being higher</li>
<li>Every term, I tell students not to worry too much about <span class="math inline">\(R^2\)</span>, and every term I get students coming to me telling me they plan to change their model to raise <span class="math inline">\(R^2\)</span>. <strong>I am begging you not to worry too much about <span class="math inline">\(R^2\)</span></strong> It’s not that important for what we’re doing.</li>
<li>It’s just a decent diagnostic to get a sense of how much of the variance <span class="math inline">\(Y\)</span> you’re predicting, and how much is left over</li>
</ul>
</section>

<section id="r-squared-1" class="title-slide slide level1 center">
<h1>R squared</h1>
<ul>
<li>In both, true effect is the same, no endogeneity. Only difference is how much <em>other, non - <span class="math inline">\(X\)</span> - based</em> variation there is in <span class="math inline">\(Y\)</span></li>
</ul>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-9-1.png" width="576" class="r-stretch"></section>

<section id="r-squared-2" class="title-slide slide level1 center">
<h1>R squared</h1>
<ul>
<li>Those same two regressions in a table (note the SEs are different too! Concept check: why is that?)</li>
</ul>
<div class="cell">
<pre><code>##                              high               low
## Dependent Var.:                 Y                 Y
##                                                    
## (Intercept)       0.1344 (0.1260)  -0.0961 (0.3199)
## X               1.871*** (0.2132) 2.570*** (0.5564)
## _______________ _________________ _________________
## S.E. type                     IID               IID
## Observations                1,000             1,000
## R2                        0.07165           0.02093
## Adj. R2                   0.07072           0.01995
## ---
## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</section>

<section id="f-tests" class="title-slide slide level1 center">
<h1>F tests</h1>
<ul>
<li>The <span class="math inline">\(R^2\)</span> reveals what was actually going on with those F-tests we did before</li>
<li>An F-test of a regression sees if a regression <em>predicts more accurately</em> than a more restricted regression where some of the coefficients are forced to <span class="math inline">\(0\)</span> (or to some other value)</li>
<li>In other words, it might take the <span class="math inline">\(R^2\)</span> of each of these two models and calculate something from them that has a F distribution (remember, F distribution is the ratio of squared sums of normals!) to test if <span class="math inline">\(\hat{\beta}_2\)</span> and <span class="math inline">\(\hat{\beta}_3\)</span> are both zero at the same time</li>
<li>The top model <em>IBA</em> have a higher <span class="math inline">\(R^2\)</span>, but is it higher <em>than you’d expect by random chance?</em></li>
</ul>
<p><span class="math display">\[ Y = \beta_0 + \beta_1X + \beta_2Z + \beta_3A + \varepsilon \]</span></p>
<p><span class="math display">\[ Y = \beta_0 + \beta_1X + \varepsilon \]</span></p>
</section>

<section id="f-tests-1" class="title-slide slide level1 center">
<h1>F tests</h1>
<ul>
<li>By the way, when we did this before with a single variable we were comparing:</li>
</ul>
<p><span class="math display">\[ Y = \beta_0 + \beta_1X \varepsilon \]</span></p>
<p>to</p>
<p><span class="math display">\[ Y = \beta_0 + \varepsilon \]</span></p>
<ul>
<li>It’s also common to see an F-statistic at the bottom of a column for a regression table. This is, by convention, testing the full model in that column against the constant-only model. This pretty much always rejects the null and is mostly useless.</li>
</ul>
</section>

<section id="f-tests-2" class="title-slide slide level1 center">
<h1>F tests</h1>
<ul>
<li>Let’s predict some professor salaries</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">data</span>(Salaries, <span class="at">package =</span> <span class="st">'carData'</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>unrestricted <span class="ot">&lt;-</span> <span class="fu">feols</span>(salary <span class="sc">~</span> yrs.since.phd <span class="sc">+</span> yrs.service <span class="sc">+</span> sex, <span class="at">data =</span> Salaries)</span>
<span id="cb3-3"><a href="#cb3-3"></a>restricted <span class="ot">&lt;-</span> <span class="fu">feols</span>(salary <span class="sc">~</span> yrs.since.phd, <span class="at">data =</span> Salaries)</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="fu">fitstat</span>(unrestricted, <span class="st">'r2'</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="do">## R2: 0.195102</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="fu">fitstat</span>(restricted, <span class="st">'r2'</span>)</span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="do">## R2: 0.175755</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="f-tests-3" class="title-slide slide level1 center">
<h1>F tests</h1>
<div class="cell">
<pre><code>##                          unrestricted            restricted
## Dependent Var.:                salary                salary
##                                                            
## (Intercept)     82,875.9*** (4,800.6) 91,718.7*** (2,765.8)
## yrs.since.phd      1,552.8*** (256.1)      985.3*** (107.4)
## yrs.service           -649.8* (254.0)                      
## sexMale            8,457.1. (4,656.1)                      
## _______________ _____________________ _____________________
## S.E. type                         IID                   IID
## Observations                      397                   397
## R2                            0.19510               0.17575
## Adj. R2                       0.18896               0.17367
## ---
## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</section>

<section id="f-tests-4" class="title-slide slide level1 center">
<h1>F tests</h1>
<ul>
<li>We basically just take a ratio based on <span class="math inline">\(R^2\)</span> values. On top: additional explanatory power scaled by the number of restrictions (on top), and on bottom the explanatory power left to go scaled by <span class="math inline">\(N\)</span> minus the number of variables</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>r2_unres <span class="ot">&lt;-</span> <span class="fu">fitstat</span>(unrestricted, <span class="st">'r2'</span>)<span class="sc">$</span>r2 <span class="sc">%&gt;%</span> <span class="fu">unname</span>()</span>
<span id="cb5-2"><a href="#cb5-2"></a>r2_res <span class="ot">&lt;-</span> <span class="fu">fitstat</span>(restricted, <span class="st">'r2'</span>)<span class="sc">$</span>r2 <span class="sc">%&gt;%</span> <span class="fu">unname</span>()</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"># Calculate by hand</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>((r2_unres <span class="sc">-</span> r2_res)<span class="sc">/</span><span class="dv">2</span>) <span class="sc">/</span> ((<span class="dv">1</span> <span class="sc">-</span> r2_unres)<span class="sc">/</span>(<span class="dv">397</span> <span class="sc">-</span> <span class="dv">4</span>))</span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="do">## [1] 4.72</span></span>
<span id="cb5-7"><a href="#cb5-7"></a></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co"># Have the wald() function do it for us (note F is the same!)</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="fu">wald</span>(unrestricted, <span class="fu">c</span>(<span class="st">'yrs.service'</span>,<span class="st">'sexMale'</span>))</span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="do">## Wald test, H0: joint nullity of yrs.service and sexMale</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="do">##  stat = 4.72326, p-value = 0.009397, on 2 and 393 DoF, VCOV: IID.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="f-tests-5" class="title-slide slide level1 center">
<h1>F tests</h1>
<ul>
<li>Why would we want to do this?</li>
<li>We might want to see if a <em>set of variables</em> has explanatory power: for example, does adding a bunch of background variables improve prediction?</li>
<li>A t-test asks if a single coefficient is 0. The F-test asks if a bunch of coefficients are 0 at the same time</li>
<li>If those variables overlap a lot, then each individual one might be insignificant but the group could be important</li>
<li>Also, we might want to know if two coefficients are not just nonzero, but <em>equal to each other</em></li>
<li>“Does this variable have a similarly-sized effect to this other variable?”</li>
</ul>
</section>

<section id="f-tests-6" class="title-slide slide level1 center">
<h1>F tests</h1>
<ul>
<li>F tests are broader, too - you can test other restrictions on coefficients, not just seeing if they’re all 0</li>
<li>Do <code>yrs.since.phd</code> and <code>yrs.service</code> have the same effect but of opposite signs (in other words, if you add them together do you get 0)? No!</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">library</span>(multcomp)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co"># Generalized Linear Hypothesis Test</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">glht</span>(unrestricted, <span class="st">'yrs.since.phd + yrs.service = 0'</span>) <span class="sc">%&gt;%</span> <span class="fu">summary</span>()</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="do">## </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="do">##   Simultaneous Tests for General Linear Hypotheses</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="do">## </span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="do">## Fit: feols(fml = salary ~ yrs.since.phd + yrs.service + sex, data = Salaries)</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="do">## </span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="do">## Linear Hypotheses:</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="do">##                                  Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="do">## yrs.since.phd + yrs.service == 0      903        110    8.23  2.7e-15 ***</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="do">## ---</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="do">## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="do">## (Adjusted p values reported -- single-step method)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="concept-checks-1" class="title-slide slide level1 center">
<h1>Concept Checks</h1>
<ul>
<li>In a sentence, describe what <span class="math inline">\(R^2\)</span> measures</li>
<li>Give two reasons why you shouldn’t pick one model over another just based on its <span class="math inline">\(R^2\)</span> value</li>
<li>Finish the sentence: “The F-statistic shows whether the difference between <span class="math inline">\(R^2\)</span> in an unrestricted model and a restricted model is bigger than…”</li>
<li>What does it mean to say that two coefficients are “zero at the same time”?</li>
</ul>
</section>

<section id="multivariate-ols-in-r" class="title-slide slide level1 center">
<h1>Multivariate OLS in R</h1>
<ul>
<li>Conveniently, adding more variables to an OLS model in R is just an issue of… literally adding them</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>model <span class="ot">&lt;-</span> <span class="fu">feols</span>(salary <span class="sc">~</span> yrs.since.phd <span class="sc">+</span> yrs.service <span class="sc">+</span> sex, <span class="at">data =</span> Salaries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="multivariate-ols-in-r-1" class="title-slide slide level1 center">
<h1>Multivariate OLS in R</h1>
<p>What else might we want to know?</p>
<ul>
<li>How to get the <span class="math inline">\(R^2\)</span></li>
<li>How to do an F test</li>
<li>How to look at residuals and control for something by hand</li>
</ul>
</section>

<section id="getting-r-squared" class="title-slide slide level1 center">
<h1>Getting R squared</h1>
<ul>
<li>Well, we can just see it at the bottom of the default <code>etable()</code> table, that works</li>
<li>We can also pull it out using <code>fitstat()</code> which can also be used to get all sorts of other statistics</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># Look at a summary of the statistic</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">fitstat</span>(model, <span class="st">'r2'</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="do">## R2: 0.195102</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># Get the actual value out</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="fu">fitstat</span>(model, <span class="st">'r2'</span>)<span class="sc">$</span>r2</span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="do">##    r2 </span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="do">## 0.195</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="doing-an-f-test" class="title-slide slide level1 center">
<h1>Doing an F test</h1>
<ul>
<li>We already did one by hand! using the <span class="math inline">\(R^2\)</span> values</li>
<li>We can also use <code>wald()</code> to test a set of coefficients being jointly 0</li>
<li>Or <code>glht()</code> in <strong>multcomp</strong> for testing more complex equations, or things not tested against 0 (rearrange the equation to have a constant on one side)</li>
<li>To account for heteroskedasticity, you can use <code>vcov = 'hetero'</code> in the <code>feols()</code> you feed either, or set <code>vcov</code> directly in <code>wald()</code> (but not <code>glht</code>)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">wald</span>(model, <span class="fu">c</span>(<span class="st">'X1'</span>,<span class="st">'X2'</span>))</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">glht</span>(model, <span class="st">'X1 = 3'</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">glht</span>(model, <span class="st">'X1 - X2 = 0'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="predictions-and-residuals" class="title-slide slide level1 center">
<h1>Predictions and Residuals</h1>
<ul>
<li>We can get a vector of predictions from a regression object with <code>predict()</code> (or, with <code>feols()</code>, optionally <code>model$fitted.values</code>)</li>
<li>And a vector of residuals with <code>resid()</code> or optionally with <code>feols()</code>, <code>model$residuals</code></li>
<li>This turns out to be handy often in applied work! For example, maybe we want to plot those predicted values or residuals!</li>
<li>Although for what we’ve covered so far it’s mostly just good for doing <span class="math inline">\(R^2\)</span> or controlling by hand.</li>
<li>Which can be good to get a feel for how this all works. Or just to learn how to use <code>predict()</code> and <code>resid()</code></li>
</ul>
</section>

<section id="controlling-by-hand" class="title-slide slide level1 center">
<h1>Controlling by hand</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">etable</span>(model)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="do">##                                 model</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="do">## Dependent Var.:                salary</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="do">##                                      </span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="do">## (Intercept)     82,875.9*** (4,800.6)</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="do">## yrs.since.phd      1,552.8*** (256.1)</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="do">## yrs.service           -649.8* (254.0)</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="do">## sexMale            8,457.1. (4,656.1)</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="do">## _______________ _____________________</span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="do">## S.E. type                         IID</span></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="do">## Observations                      397</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="do">## R2                            0.19510</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="do">## Adj. R2                       0.18896</span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="do">## ---</span></span>
<span id="cb10-15"><a href="#cb10-15"></a><span class="do">## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="controlling-by-hand-1" class="title-slide slide level1 center">
<h1>Controlling by hand</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>yrs_model <span class="ot">&lt;-</span> <span class="fu">feols</span>(yrs.since.phd <span class="sc">~</span> yrs.service <span class="sc">+</span> sex, <span class="at">data =</span> Salaries)</span>
<span id="cb11-2"><a href="#cb11-2"></a>salary_model <span class="ot">&lt;-</span> <span class="fu">feols</span>(salary <span class="sc">~</span> yrs.service <span class="sc">+</span> sex, <span class="at">data =</span> Salaries)</span>
<span id="cb11-3"><a href="#cb11-3"></a>my_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">yrs_resid =</span> <span class="fu">resid</span>(yrs_model),</span>
<span id="cb11-4"><a href="#cb11-4"></a>                  <span class="at">salary_resid =</span> <span class="fu">resid</span>(salary_model))</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a>resid_model <span class="ot">&lt;-</span> <span class="fu">feols</span>(salary_resid <span class="sc">~</span> yrs_resid, <span class="at">data =</span> my_data)</span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="fu">etable</span>(resid_model)</span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="do">##                        resid_model</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="do">## Dependent Var.:       salary_resid</span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="do">##                                   </span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="do">## (Intercept)     2.81e-10 (1,365.6)</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="do">## yrs_resid       1,552.8*** (255.5)</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="do">## _______________ __________________</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="do">## S.E. type                      IID</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="do">## Observations                   397</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="do">## R2                         0.08552</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="do">## Adj. R2                    0.08320</span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="do">## ---</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="do">## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="plotting-residuals" class="title-slide slide level1 center">
<h1>Plotting Residuals</h1>
<p>Plotting residuals from the full model against <span class="math inline">\(X\)</span> is a good way to check for heteroskedasticity (or anything else super strange)</p>

<img data-src="Multiple_linear_regression_files/figure-revealjs/unnamed-chunk-20-1.png" width="768" class="r-stretch"></section>

<section id="r-squared-by-hand" class="title-slide slide level1 center">
<h1>R squared by hand</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">fitstat</span>(model, <span class="st">'r2'</span>)<span class="sc">$</span>r2</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="do">##    r2 </span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="do">## 0.195</span></span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a>predicted_values <span class="ot">&lt;-</span> <span class="fu">predict</span>(model)</span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="fu">cor</span>(predicted_values,Salaries<span class="sc">$</span>salary)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="do">## [1] 0.195</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section id="swirl" class="title-slide slide level1 center">
<h1>Swirl</h1>
<p>Let’s do the Multivariate Regression Swirl!</p>

<img src="https://www.rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-Flat.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://zahidasghar.com/">Zahid Asghar</a></p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Multiple_linear_regression_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Multiple_linear_regression_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":"1666018817425570727","id":"51e624b42ceb325f","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>